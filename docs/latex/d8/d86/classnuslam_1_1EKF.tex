\hypertarget{classnuslam_1_1EKF}{}\section{nuslam\+:\+:E\+KF Class Reference}
\label{classnuslam_1_1EKF}\index{nuslam\+::\+E\+KF@{nuslam\+::\+E\+KF}}


handles model propagation for \hyperlink{classnuslam_1_1EKF}{E\+KF} S\+L\+AM  




{\ttfamily \#include $<$ekf.\+hpp$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classnuslam_1_1EKF_a459ca7cecbb8457d805da0b916063d57}\label{classnuslam_1_1EKF_a459ca7cecbb8457d805da0b916063d57}} 
\hyperlink{classnuslam_1_1EKF_a459ca7cecbb8457d805da0b916063d57}{E\+KF} ()
\begin{DoxyCompactList}\small\item\em the default constructor creates a \hyperlink{classnuslam_1_1EKF}{E\+KF} with zero-\/initialized pose and no landmarks Start with guess of robot state (0,0,0) with zero covariance for robot state, indicating full confidence in initial state, and infinite covariance for ladmarks state, indicating we know nothing about them. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classnuslam_1_1EKF_ac47ec7f4a91c3ed3f6b8fba4167354c9}\label{classnuslam_1_1EKF_ac47ec7f4a91c3ed3f6b8fba4167354c9}} 
\hyperlink{classnuslam_1_1EKF_ac47ec7f4a91c3ed3f6b8fba4167354c9}{E\+KF} (const \hyperlink{structrigid2d_1_1Pose2D}{Pose2D} \&robot\+\_\+state\+\_\+, const std\+::vector$<$ \hyperlink{structnuslam_1_1Point}{Point} $>$ \&map\+\_\+state\+\_\+, const \hyperlink{structrigid2d_1_1Pose2D}{Pose2D} \&xyt\+\_\+noise\+\_\+var, const \hyperlink{structnuslam_1_1RangeBear}{Range\+Bear} \&rb\+\_\+noise\+\_\+var\+\_\+, const double \&max\+\_\+range\+\_\+, double mahalanobis\+\_\+lower\+\_\+, double mahalanobis\+\_\+upper\+\_\+)
\begin{DoxyCompactList}\small\item\em the default constructor creates a \hyperlink{classnuslam_1_1EKF}{E\+KF} with user-\/defined number of landmarks Start with guess of robot state (0,0,0) with zero covariance for robot state, indicating full confidence in initial state, and infinite covariance for ladmarks state, indicating we know nothing about them. \end{DoxyCompactList}\item 
void \hyperlink{classnuslam_1_1EKF_ad6eddda5abffd650b98ce947263d0ea8}{predict} (const \hyperlink{classrigid2d_1_1Twist2D}{Twist2D} \&twist)
\begin{DoxyCompactList}\small\item\em forward-\/propagate the nonlinear motion model to get an estimate (prediction, and, using Taylor-\/\+Series expantion, get a linearized state transition model, which is used to propagate uncertainty. \end{DoxyCompactList}\item 
Eigen\+::\+Matrix\+Xd \hyperlink{classnuslam_1_1EKF_a51b063065f405856d85fe048d736c68a}{inv\+\_\+msr\+\_\+model} (const int \&j)
\begin{DoxyCompactList}\small\item\em Compute the Measurement Jacobian. \end{DoxyCompactList}\item 
void \hyperlink{classnuslam_1_1EKF_aa45c8b3af13b612d8517ad0716166ed6}{msr\+\_\+update} (const std\+::vector$<$ \hyperlink{structnuslam_1_1Point}{Point} $>$ \&measurements\+\_\+)
\begin{DoxyCompactList}\small\item\em incorporate sequential landmark measurements to perform a correction of our predicted estimate, then, update the \hyperlink{classnuslam_1_1EKF}{E\+KF} parameters for the next ieration. Also initializes new landmarks \end{DoxyCompactList}\item 
std\+::vector$<$ double $>$ \hyperlink{classnuslam_1_1EKF_a6cf0259a033ba671961ea06d1737ee3c}{mahalanobis\+\_\+test} (const Eigen\+::\+Vector\+Xd \&z)
\begin{DoxyCompactList}\small\item\em perform the mahalanobis test and return vector of successful candidates with corresponding indeces mapped to map\+\_\+state vector \end{DoxyCompactList}\item 
\hyperlink{structrigid2d_1_1Pose2D}{Pose2D} \hyperlink{classnuslam_1_1EKF_a5292c5dd543b8d58edf51f7addfd7e09}{return\+\_\+pose} ()
\begin{DoxyCompactList}\small\item\em computes and returns Nearest Semi-\/\+Positive Definite Matrix \end{DoxyCompactList}\item 
std\+::vector$<$ \hyperlink{structnuslam_1_1Point}{Point} $>$ \hyperlink{classnuslam_1_1EKF_a9f461c60e11f23e99e04caeb76c9decc}{return\+\_\+map} ()
\begin{DoxyCompactList}\small\item\em return current map state belief \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classnuslam_1_1EKF_a37d5e78faa84e6a3d71197fff06d2503}\label{classnuslam_1_1EKF_a37d5e78faa84e6a3d71197fff06d2503}} 
void \hyperlink{classnuslam_1_1EKF_a37d5e78faa84e6a3d71197fff06d2503}{reset\+\_\+pose} (const \hyperlink{structrigid2d_1_1Pose2D}{Pose2D} \&pose)
\begin{DoxyCompactList}\small\item\em reset internal pose \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
handles model propagation for \hyperlink{classnuslam_1_1EKF}{E\+KF} S\+L\+AM 

\subsection{Member Function Documentation}
\mbox{\Hypertarget{classnuslam_1_1EKF_a51b063065f405856d85fe048d736c68a}\label{classnuslam_1_1EKF_a51b063065f405856d85fe048d736c68a}} 
\index{nuslam\+::\+E\+KF@{nuslam\+::\+E\+KF}!inv\+\_\+msr\+\_\+model@{inv\+\_\+msr\+\_\+model}}
\index{inv\+\_\+msr\+\_\+model@{inv\+\_\+msr\+\_\+model}!nuslam\+::\+E\+KF@{nuslam\+::\+E\+KF}}
\subsubsection{\texorpdfstring{inv\+\_\+msr\+\_\+model()}{inv\_msr\_model()}}
{\footnotesize\ttfamily Eigen\+::\+Matrix\+Xd nuslam\+::\+E\+K\+F\+::inv\+\_\+msr\+\_\+model (\begin{DoxyParamCaption}\item[{const int \&}]{j }\end{DoxyParamCaption})}



Compute the Measurement Jacobian. 


\begin{DoxyParams}{Parameters}
{\em j} & index of assessed landmark \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
H matrix (inverse measurement model) 
\end{DoxyReturn}
\mbox{\Hypertarget{classnuslam_1_1EKF_a6cf0259a033ba671961ea06d1737ee3c}\label{classnuslam_1_1EKF_a6cf0259a033ba671961ea06d1737ee3c}} 
\index{nuslam\+::\+E\+KF@{nuslam\+::\+E\+KF}!mahalanobis\+\_\+test@{mahalanobis\+\_\+test}}
\index{mahalanobis\+\_\+test@{mahalanobis\+\_\+test}!nuslam\+::\+E\+KF@{nuslam\+::\+E\+KF}}
\subsubsection{\texorpdfstring{mahalanobis\+\_\+test()}{mahalanobis\_test()}}
{\footnotesize\ttfamily std\+::vector$<$ double $>$ nuslam\+::\+E\+K\+F\+::mahalanobis\+\_\+test (\begin{DoxyParamCaption}\item[{const Eigen\+::\+Vector\+Xd \&}]{z }\end{DoxyParamCaption})}



perform the mahalanobis test and return vector of successful candidates with corresponding indeces mapped to map\+\_\+state vector 


\begin{DoxyParams}{Parameters}
{\em measurements} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
vector of Point(s) which have fallen outside of the mahalanobis deadband 
\end{DoxyReturn}
\mbox{\Hypertarget{classnuslam_1_1EKF_aa45c8b3af13b612d8517ad0716166ed6}\label{classnuslam_1_1EKF_aa45c8b3af13b612d8517ad0716166ed6}} 
\index{nuslam\+::\+E\+KF@{nuslam\+::\+E\+KF}!msr\+\_\+update@{msr\+\_\+update}}
\index{msr\+\_\+update@{msr\+\_\+update}!nuslam\+::\+E\+KF@{nuslam\+::\+E\+KF}}
\subsubsection{\texorpdfstring{msr\+\_\+update()}{msr\_update()}}
{\footnotesize\ttfamily void nuslam\+::\+E\+K\+F\+::msr\+\_\+update (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ \hyperlink{structnuslam_1_1Point}{Point} $>$ \&}]{measurements\+\_\+ }\end{DoxyParamCaption})}



incorporate sequential landmark measurements to perform a correction of our predicted estimate, then, update the \hyperlink{classnuslam_1_1EKF}{E\+KF} parameters for the next ieration. Also initializes new landmarks 


\begin{DoxyParams}{Parameters}
{\em vector} & of \hyperlink{structnuslam_1_1Point}{Point} struct containing relative recorded landmark coordinates \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classnuslam_1_1EKF_ad6eddda5abffd650b98ce947263d0ea8}\label{classnuslam_1_1EKF_ad6eddda5abffd650b98ce947263d0ea8}} 
\index{nuslam\+::\+E\+KF@{nuslam\+::\+E\+KF}!predict@{predict}}
\index{predict@{predict}!nuslam\+::\+E\+KF@{nuslam\+::\+E\+KF}}
\subsubsection{\texorpdfstring{predict()}{predict()}}
{\footnotesize\ttfamily void nuslam\+::\+E\+K\+F\+::predict (\begin{DoxyParamCaption}\item[{const \hyperlink{classrigid2d_1_1Twist2D}{Twist2D} \&}]{twist }\end{DoxyParamCaption})}



forward-\/propagate the nonlinear motion model to get an estimate (prediction, and, using Taylor-\/\+Series expantion, get a linearized state transition model, which is used to propagate uncertainty. 


\begin{DoxyParams}{Parameters}
{\em Twist2D} & containing linear and angular velocity \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classnuslam_1_1EKF_a9f461c60e11f23e99e04caeb76c9decc}\label{classnuslam_1_1EKF_a9f461c60e11f23e99e04caeb76c9decc}} 
\index{nuslam\+::\+E\+KF@{nuslam\+::\+E\+KF}!return\+\_\+map@{return\+\_\+map}}
\index{return\+\_\+map@{return\+\_\+map}!nuslam\+::\+E\+KF@{nuslam\+::\+E\+KF}}
\subsubsection{\texorpdfstring{return\+\_\+map()}{return\_map()}}
{\footnotesize\ttfamily std\+::vector$<$ \hyperlink{structnuslam_1_1Point}{Point} $>$ nuslam\+::\+E\+K\+F\+::return\+\_\+map (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



return current map state belief 

\begin{DoxyReturn}{Returns}
std\+::vector$<$\+Point$>$ 
\end{DoxyReturn}
\mbox{\Hypertarget{classnuslam_1_1EKF_a5292c5dd543b8d58edf51f7addfd7e09}\label{classnuslam_1_1EKF_a5292c5dd543b8d58edf51f7addfd7e09}} 
\index{nuslam\+::\+E\+KF@{nuslam\+::\+E\+KF}!return\+\_\+pose@{return\+\_\+pose}}
\index{return\+\_\+pose@{return\+\_\+pose}!nuslam\+::\+E\+KF@{nuslam\+::\+E\+KF}}
\subsubsection{\texorpdfstring{return\+\_\+pose()}{return\_pose()}}
{\footnotesize\ttfamily \hyperlink{structrigid2d_1_1Pose2D}{Pose2D} nuslam\+::\+E\+K\+F\+::return\+\_\+pose (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



computes and returns Nearest Semi-\/\+Positive Definite Matrix 


\begin{DoxyParams}{Parameters}
{\em Eigen\+::\+Matrix\+Xd} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Eigen\+::\+Matrix\+Xd return current pose belief 

Pose2D 
\end{DoxyReturn}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
nuslam/include/nuslam/\hyperlink{ekf_8hpp}{ekf.\+hpp}\item 
nuslam/src/nuslam/ekf.\+cpp\end{DoxyCompactItemize}
