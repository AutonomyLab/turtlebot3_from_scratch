\hypertarget{landmarks__node_8cpp}{}\section{nuslam/src/landmarks\+\_\+node.cpp File Reference}
\label{landmarks__node_8cpp}\index{nuslam/src/landmarks\+\_\+node.\+cpp@{nuslam/src/landmarks\+\_\+node.\+cpp}}


Interprets Laser\+Scan data and detects and publishes attributes of discovered landmarks.  


{\ttfamily \#include $<$ros/ros.\+h$>$}\newline
{\ttfamily \#include $<$std\+\_\+srvs/\+Empty.\+h$>$}\newline
{\ttfamily \#include $<$visualization\+\_\+msgs/\+Marker.\+h$>$}\newline
{\ttfamily \#include $<$sensor\+\_\+msgs/\+Laser\+Scan.\+h$>$}\newline
{\ttfamily \#include $<$sensor\+\_\+msgs/\+Point\+Cloud.\+h$>$}\newline
{\ttfamily \#include $<$geometry\+\_\+msgs/\+Point32.\+h$>$}\newline
{\ttfamily \#include $<$math.\+h$>$}\newline
{\ttfamily \#include $<$string$>$}\newline
{\ttfamily \#include $<$vector$>$}\newline
{\ttfamily \#include $<$boost/iterator/zip\+\_\+iterator.\+hpp$>$}\newline
{\ttfamily \#include \char`\"{}nuslam/landmarks.\+hpp\char`\"{}}\newline
{\ttfamily \#include \char`\"{}nuslam/\+Turtle\+Map.\+h\char`\"{}}\newline
{\ttfamily \#include $<$functional$>$}\newline
Include dependency graph for landmarks\+\_\+node.\+cpp\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d6/d59/landmarks__node_8cpp__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{landmarks__node_8cpp_a2ba8b69ec42a8dcac8c1f47c66c3f87b}{scan\+\_\+callback} (const sensor\+\_\+msgs\+::\+Laser\+Scan \&lsr)
\item 
\mbox{\Hypertarget{landmarks__node_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}\label{landmarks__node_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}} 
int \hyperlink{landmarks__node_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}{main} (int argc, char $\ast$$\ast$argv)
\begin{DoxyCompactList}\small\item\em The Main Function ///. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{landmarks__node_8cpp_ad7f9420c5db55e41dcaf2e64df8153e0}\label{landmarks__node_8cpp_ad7f9420c5db55e41dcaf2e64df8153e0}} 
double {\bfseries threshold\+\_\+} = 0.\+15
\item 
\mbox{\Hypertarget{landmarks__node_8cpp_a3ee0ad2c2fb892e39c44a42e14f18ce4}\label{landmarks__node_8cpp_a3ee0ad2c2fb892e39c44a42e14f18ce4}} 
bool {\bfseries callback\+\_\+flag} = false
\item 
\mbox{\Hypertarget{landmarks__node_8cpp_a479b2db06058877d6bc4eea716274724}\label{landmarks__node_8cpp_a479b2db06058877d6bc4eea716274724}} 
nuslam\+::\+Turtle\+Map {\bfseries map}
\item 
\mbox{\Hypertarget{landmarks__node_8cpp_a258c4690fc0d9b08db17b585fc214738}\label{landmarks__node_8cpp_a258c4690fc0d9b08db17b585fc214738}} 
sensor\+\_\+msgs\+::\+Point\+Cloud {\bfseries pc}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Interprets Laser\+Scan data and detects and publishes attributes of discovered landmarks. 

P\+A\+R\+A\+M\+E\+T\+E\+RS\+: threshold (double)\+: used to determine whether two points from Laser\+Scan belong to one cluster callback\+\_\+flag (bool)\+: specifies whether to publish landmarks based on callback trigger pc (sensor\+\_\+msgs\+::\+Point\+Cloud)\+: contains interpreted pointcloud which is published for debugging purposes map (nuslam\+::\+Turtle\+Map)\+: stores lists of x,y coordinates and radii of detected landmarks frequency (double)\+: frequency of control loop. frame\+\_\+id\+\_\+ (string)\+: frame ID of discovered landmarks (in this case, relative to base\+\_\+scan)

P\+U\+B\+L\+I\+S\+H\+ES\+: landmarks (nuslam\+::\+Turtle\+Map)\+: publishes Turtle\+Map message containing landmark coordinates (x,y) and radii pointcloud (sensor\+\_\+msgs\+::\+Point\+Cloud)\+: publishes Point\+Cloud for visualization in R\+Viz for debugging purposees

S\+U\+B\+S\+C\+R\+I\+B\+ES\+: /scan (sensor\+\_\+msgs\+::\+Laser\+Scan), which contains data with which it is possible to extract range,bearing measurements

F\+U\+N\+C\+T\+I\+O\+NS\+: scan\+\_\+callback (void)\+: callback for /scan subscriber, which processes Laser\+Scan data and detects landmarks 

\subsection{Function Documentation}
\mbox{\Hypertarget{landmarks__node_8cpp_a2ba8b69ec42a8dcac8c1f47c66c3f87b}\label{landmarks__node_8cpp_a2ba8b69ec42a8dcac8c1f47c66c3f87b}} 
\index{landmarks\+\_\+node.\+cpp@{landmarks\+\_\+node.\+cpp}!scan\+\_\+callback@{scan\+\_\+callback}}
\index{scan\+\_\+callback@{scan\+\_\+callback}!landmarks\+\_\+node.\+cpp@{landmarks\+\_\+node.\+cpp}}
\subsubsection{\texorpdfstring{scan\+\_\+callback()}{scan\_callback()}}
{\footnotesize\ttfamily void scan\+\_\+callback (\begin{DoxyParamCaption}\item[{const sensor\+\_\+msgs\+::\+Laser\+Scan \&}]{lsr }\end{DoxyParamCaption})}

forms clusters from Laser\+Scan data and fits circles to them before assessing whether or not they are landmarks (or walls) 
\begin{DoxyParams}{Parameters}
{\em sensor\+\_\+msgs\+::\+Laser\+Scan,which} & contains data with which it is possible to extract range,bearing measurements \\
\hline
\end{DoxyParams}
